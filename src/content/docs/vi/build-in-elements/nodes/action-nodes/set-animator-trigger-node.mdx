---
title: Set Animator Trigger Node
description: Đặt trigger parameter trên Animator component.
---
import { Tabs, TabItem } from '@astrojs/starlight/components';

Action node tức thì này tìm `Animator` component thông qua Blackboard và đặt một trigger parameter được chỉ định. Đây là cách chính để trigger attack, flinch, hoặc các animation một lần khác.

**Đường dẫn trong Editor:** `Action > Animation > SetAnimatorTrigger`

### Thuộc tính

| Thuộc tính      | Type   | Mô tả                                                          |
| -------------- | ------ | --------------------------------------------------------------- |
| `animatorKey`  | Key    | Blackboard key cho `Animator` component.                       |
| `triggerName`  | string | Tên của trigger parameter trong Animator Controller.            |

### Hành vi

-   **Trả về `Success`** sau khi đặt trigger trên `Animator` component hợp lệ.
-   **Trả về `Failure`** nếu `animatorKey` hoặc `triggerName` không được đặt, hoặc nếu `Animator` component không tìm thấy trên Blackboard.

<Tabs>
<TabItem label="C# Code">
```csharp
// --- START OF FILE SetAnimatorTriggerNode.cs ---
using UnityEngine;
using ND_BehaviorTree;

namespace ND_BehaviorTree
{
    [NodeInfo("Set Animator Trigger", "Action/Animation/SetAnimatorTrigger", true, false)]
    public class SetAnimatorTriggerNode : ActionNode
    {
        [Tooltip("The Blackboard key for the Animator component.")]
        public Key animatorKey;
        [Tooltip("The name of the trigger parameter in the Animator Controller to set.")]
        public string triggerName;

        protected override Status OnProcess()
        {
            if (animatorKey == null || string.IsNullOrEmpty(triggerName)) return Status.Failure;
            Animator animator = blackboard.GetValue<Animator>(animatorKey.keyName);
            if (animator == null) {
                Debug.LogWarning($"Animator not found on blackboard key '{animatorKey.keyName}'.");
                return Status.Failure;
            }
            animator.SetTrigger(triggerName);
            return Status.Success;
        }
    }
}
```
</TabItem>
</Tabs>